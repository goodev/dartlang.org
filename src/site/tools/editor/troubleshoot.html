---
layout: default
title: "解决 Dart 编辑器遇到的问题"
description: "安装和使用 Dart 编辑器是很容易的。除非遇到问题！"
js:
- url: /js/os-switcher.js
  defer: true
---

<h1> {{ page.title }} </h1>

<section>
<p class="os-choices">
一些 
<a href="/tools/editor/">Dart 编辑器</a> 在
{% include os-choices.html %} 系统上的问题及解决方式。
如果漏掉了什么内容，请
<a href="/support/">告诉我们</a>。
</p>

<h4> 目录 </h4>
<ol class="toc">
  <li> <a href="#download-dart-editor">了解你的系统架构</a> </li>
  <li> <a href="#launch-dart-editor">启动 Dart 编辑器</a> </li>
  <li> <a href="#dartium">启动 Dartium</a> </li>
  <li> <a href="#eclipse">使用 Eclipse</a> </li>
  <li> <a href="#clear">清空所有设置</a> </li>
  <li> <a href="#bugs">其他已知问题</a> </li>
</ol>

<section>

  <section id="download-dart-editor">
  <h2> 了解你的系统架构 </h2>

  <div class="linux">
    <p>
    如果你不知道你的系统是 32-bit 还是  64-bit 的 Linux，
  使用命令 <code>uname -a</code>。
  如果输出的内容包含  <code>64</code>，则你是
  64-bit Linux；
  否则你就是 32-bit Linux。
    </p>
  </div>

  <div class="macos">
    <p>
    几乎所有的 Mac OS X 系统都是 64-bit 的，
    所有我们推荐你用 64-bit Dart 编辑器。
如果你遇到了问题，
则尝试下 <a href="#mac-32bit">32-bit 版本</a>。
    </p>
  </div>

  <div class="windows">
    <p>
    如果你不知道你是 32-bit 还是 64-bit Windows，参考
    <a href="http://windows.microsoft.com/en-US/windows7/32-bit-and-64-bit-Windows-frequently-asked-questions">Microsoft 的支持站点</a>。
    </p>
  </div>

  </section>

  <section id="launch-dart-editor">
  <h2> 启动 Dart 编辑器 </h2>

<div class="windows">

  <p>
  Your Java version should have the same bit width as
  your Dart 编辑器 version.
  For example, if you're using a 64-bit Dart 编辑器,
  then you should use 64-bit Java.
  Otherwise, you might see a message like this
  when you try to launch Dart 编辑器:
  </p>

<pre>
Failed to load the JNI shared library "C:\Program Files(x86)\Java\jre6\\bin\client\jvm.dll
</pre>

    <p>
    You can find the bit width of your default Java version using the command
    <code>java -version</code>.
    </p>
</div>

<div class="linux">
  <section id="linux-32bit">
  <p>
  If you're using 64-bit Linux but have 32-bit Java libraries,
  Dart 编辑器 won't work.
  </p>

  <p>
  The fix: Use a 64-bit Java JDK.
  You can get a 64-bit JDK 7 from
  <a href="http://www.oracle.com/technetwork/java/javase/downloads/java-se-jdk-7-download-432154.html"
    target="_blank">Java SE Development Kit 7 Downloads</a>.
  If you already have a 64-bit JDK but it's not the default,
  you can specify the Java runtime.
  </p>

</section>
</div> <!-- end of linux-only section -->


<div class="macos">

  <p>
  A few things can go wrong when launching Dart 编辑器 on a Mac:
  </p>

  <ul>
    <li> <a href="#security-preferences">Unidentified developer</a>
      </li>
    <li> <a href="#corruption">"DartEditor.app" is damaged (64-bit only)</a>
      </li>
    <li> <a href="#java-install">Java installation failure</a>
      </li>
    <li> <a href="#avstartup">Slow startup</a>
      </li>
    <li> <a href="#mac-32bit">32-bit Mac</a>
      </li>
  </ul>


  <section id="security-preferences">
  <h3>Unidentified developer</h3>

  <p>
  If you're running Mac OS 10.8 (Mountain Lion),
  your computer might refuse to start Dart 编辑器
  because it's not from the Mac App Store or an identified developer.
  Until we fix this problem
  (<a href="http://code.google.com/p/dart/issues/detail?id=5088">bug
  #5088</a>),
  you can work around it.
  </p>

  <p>
  <img src="images/mac-permission-error.png"
    alt="Dialog text: DartEditor can't be opened because it is from an unidentified developer."
    style="border: 1px solid black">
  </p>

  <p>
  The easiest workaround:
  When launching Dart 编辑器 for the first time,
  don't double-click the Dart 编辑器 icon.
  Instead, right-click (or Ctl+click) it to bring up a context menu,
  and choose <b>Open</b>.
  Then, in the dialog that comes up, click <b>Open</b>.
  </p>

  <p>
  An alternative workaround is to change your security settings.
  Go to <b>System Preferences > Security & Privacy</b>.
  In the <b>General</b> tab under
  <b>Allow applications downloaded from:</b>,
  choose <b>Anywhere</b>.
  You should now be able to start Dart 编辑器.
  Once you've run Dart 编辑器,
  you can change the preference back to its previous setting.
  </p>
  </section>

  <section id="corruption">
  <h3>"DartEditor.app" is damaged (64-bit only)</h3>

  <p>
  Sometimes when you try to launch a new, 64-bit build of Dart 编辑器,
  Mac OS X incorrectly displays a corruption warning:
  </p>

  <blockquote>
  "DartEditor.app" is damaged and can't be opened.
  You should move it to the Trash.
  </blockquote>

  <p>
  The workaround is to download and install the
  <a class="download-link" data-bits="32" data-os="macos" data-build="integration" href="{{ site.custom.downloads.dartarchive-stable-url-prefix }}/latest/editor/darteditor-macos-ia32.zip">
  32-bit version of Dart 编辑器</a>.
  </p>

  <section id="java-install">
  <h3>Java installation failure</h3>

  <p>
  When you try to run Dart 编辑器 but don't have a Java SE 6 runtime,
  Dart 编辑器 offers to install Java for you.
  If the installation doesn't work,
  you can either restart Dart 编辑器 or
  <a href="http://support.apple.com/kb/DL1572">install Java yourself</a>.
  </p>

  </section>

  <section id="avstartup">
  <h3>Slow startup</h3>

  <p>
  If you use Sophos Anti-Virus,
  Dart 编辑器 (like most Java applications)
  starts up 10-15 times slower than normal.

  <p>
  The fix: Turn off scanning of the app's JAR files.
  For example:
  </p>

  <ol>
    <li> In Sophos Anti-Virus preferences,
      choose <b>On-access Scanning</b>. </li>
    <li> If the preferences are locked,
      click the lock and enter your password. </li>
    <li> Click <b>Excluded Items</b> and then the <b>+</b> sign. </li>
    <li> Navigate to the directory that contains <code>DartEditor</code>. </li>
    <li> Search for files under that directory
      with names that end in <code>.jar</code>. </li>
    <li> Select all these <code>.jar</code> files,
      and click Open. </li>
  </ol>

  </section>


  <section id="mac-32bit">
  <h3>32-bit Mac</h3>

  <p>
  If you're using one of the increasingly rare 32-bit Macs,
  you can't launch the 64-bit version of Dart 编辑器.
  Instead, you see a warning like this:
  </p>

  <p>
  <img src="images/mac-installerror.png"
    alt="Dialog text: You can't open the application DartEditor.app because it's not supported on this type of Mac."
    style="border: 1px solid black"
    width="419" height="161" >
  </p>

  <p>
  The fix: Download and install the
  <a class="download-link" data-bits="32" data-os="macos" data-build="integration" href="{{ site.custom.downloads.dartarchive-stable-url-prefix }}/latest/darteditor-macos-ia32.zip">
  32-bit version of Dart 编辑器</a>.
  </p>

  </section>

</div> <!-- end of mac-only section -->

  <section id="runtime">
  <h3>Specifying the Java runtime</h3>

  <p>
  If necessary, you can specify the Java runtime that Dart 编辑器 uses.
  Go to your Dart installation directory and
  add the following two lines to <code>DartEditor.ini</code>
  immediately <b>before</b> the existing
  <code>&#x2011;vmargs</code> line:
  </p>

<pre>-vm
<em>/full/path/to/java</em>
</pre>

<div class="windows">
  <p>
  <b>Important:</b>
  On Windows, use double backslashes (<code>\\</code>)
  as the directory separator:
  </p>

<pre>-vm
c:\\bin\\java_jdk1.7.0\\bin\\javaw.exe
</pre>
</div>

  <p>
  For example, <code>DartEditor.ini</code> might have:
  </p>

<pre>...
-vm
/usr/local/buildtools/java/jdk-64/bin/java
-vmargs
...
</pre>

</section>
</section>


<section id="dartium">
  <h2>Launching Dartium</h2>

    <p>
    By default,
    when you click Dart 编辑器's Run button
    <img src="images/run.png" alt="Run" width="16" height="16"
    style="vertical-align:top">,
    your web app runs in Dartium.
    If you instead see a message that
    you need to download a new version of Dartium,
    your software is old.
    </p>

    <p>
    The fix: <a href="/tools/editor/#download">Download</a> and install a new version of
    <b>Dart 编辑器</b>.
    You'll get an updated version of Dartium, plus the
    <a href="http://news.dartlang.org/search/label/editor">latest improvements to Dart 编辑器</a>.
    Alternatively, download a new version of
    <a href="/tools/dartium/">Dartium</a>
    and substitute it for the copy that's in your
    Dart installation directory.
</section>


<section id="eclipse">
  <h2>Using Eclipse</h2>

  <p>
  If Dart 编辑器 and Eclipse
  share the same <code>workspace</code> directory,
  they'll save conflicting settings,
  resulting in warnings and errors from both
  Dart 编辑器 and Eclipse.
  </p>

  <p>
  The fix: Don't use the same workspace for
  Dart 编辑器 and any other Eclipse-based software.
  </p>
</section>

<section id="clear">
  <h2> Clearing all settings </h2>

  <p>
  Dart 编辑器 settings are in a platform-dependent directory,
  so you don't lose them when you update Dart 编辑器.
  If your settings become corrupted
  or you want to see the new user experience,
  delete the settings directory.
  </p>

  <p>
    The following table shows where Dart 编辑器 settings are saved.
  </p>

  <table>
    <tr>
      <th> Platform </th> <th> Location of settings </th>
    </tr>
    <tr>
      <td> Windows&nbsp;&nbsp;&nbsp; </td>
      <td> <code><em>&lt;user's home directory&gt;</em>\DartEditor</code> </td>
    </tr>
    <tr>
      <td> Linux </td>
      <td> <code>$HOME/.dartEditor</code> </td>
    </tr>
    <tr>
      <td> Mac </td>
      <td> <code>$HOME/Library/Application Support/DartEditor</code> </td>
    </tr>
  </table>
</section>

<section id="bugs">
  <h2> Other known issues </h2>
  
  <div class="linux">
    <p>
    Some of the more common problems on Linux include:
    </p>
    
    <ul>
      <li> <a href="https://code.google.com/p/dart/issues/detail?id=10363#c6">Dart 编辑器 crashes</a>
	  on specific versions of Linux. </li>

      <li> <a href="https://code.google.com/p/dart/issues/detail?id=13819">Dart 编辑器 top-level menu problems</a>
        on specific versions of Linux. </li>
    </ul>
  </div>
  
  <p>
  <b><a href="https://code.google.com/p/dart/issues/list?can=2&q=label:Area-Editor&sort=-id">Dart 编辑器 issues</a></b>
  lists all of the known bugs in Dart 编辑器.
  </p>

  </blockquote>

  <p>
  Click an issue's star to receive updates about it.
  You can also file new issues and
  add comments to existing ones.
  </p>

</section>
</section>
