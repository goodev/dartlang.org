<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Product" xmlns:wb="http://open.weibo.com/wb">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <title>Tools for Web UI | Dart: 用于创建结构化的web应用</title>
  <meta property="wb:webmaster" content="a984f6440858ee44" />
  <meta name="baidu-site-verification" content="da779426693d8f9a3be30d07947f52ba"/>
  <meta property="twitter:account_id" content="376585411" />
  <meta itemprop="name" content="Tools for Web UI | Dart: 用于创建结构化的web应用">
  
  <meta itemprop="image" content="https://www.dartlang.org/imgs/dart-logo-900w.png">
  
  <meta itemprop="description" content="Tools for creating a project with Web UI">

  <!-- Bootstrap core CSS -->
  <link href="/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="/css/dart-style.css" rel="stylesheet">
  <link href="/css/prettify.css" type="text/css" rel="stylesheet" />
  <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">
  <link href="//fonts.googleapis.com/css?family=Roboto:300,400" rel="stylesheet">
	
	<link rel="author" href="/authors/sigmund-cherem.html">
	
	<link rel="alternate" type="application/atom+xml" href="http://news.dartlang.org/feeds/posts/default" title="Atom feed">
  <!-- 
  <link href="https://plus.google.com/109866369054280216564" rel="publisher">
  -->
  <link href="http://weibo.com/cndart" rel="publisher">

  <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
  <![endif]-->

  <!-- 
<script type="text/javascript">

  //var _gaq = _gaq || [];
 // _gaq.push(['_setAccount', 'UA-26406144-4']);
  //_gaq.push(['_setDomainName', 'dartlang.org']);
  //_gaq.push(['_setSiteSpeedSampleRate', 50]);
  //_gaq.push(['_trackPageview']);

 // (function() {
   // var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
   // ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
   // var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
 // })();

</script>
-->


  <script type="text/javascript" src="https://www.google.com/jsapi"></script>
  <script>
  

<!-- 
	window.___gcfg = {lang: 'en'};
	(function()
	{var po = document.createElement("script");
	po.type = "text/javascript"; po.async = true;po.src = "https://apis.google.com/js/plusone.js";
	var s = document.getElementsByTagName("script")[0];
	s.parentNode.insertBefore(po, s);
	})();
-->
  </script>
<!-- 
  <script>
    window.twttr = (function (d,s,id) {
      var t, js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
      js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
      return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
    }(document, "script", "twitter-wjs"));
  </script>
-->
  <script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>
</head>
<body onload="prettyPrint()">
    <div class="navbar navbar-fixed-top navbar-inverse" role="navigation">
      <div class="container">
        
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/"><i class="sprite-icon-dart-logo"></i></a>
        </div>

        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
           <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                                       入门
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="/codelabs/darrrt/">试试 Dart</a></li>
                <li><a href="/docs/tutorials/">Dart 教程</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                                文档
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="/docs/">开发者指南</a></li>
                <li><a href="http://api.dartlang.org">API 参考</a></li>
                <li><a href="/docs/spec/">语言规范</a></li>

                <li class="divider"></li>
                <li><a href="/docs/dart-up-and-running/">Dart: Up and Running</a></li>
                <li><a href="/books/">更多图书</a></li>

                <li class="divider"></li>
                <li><a href="/articles/">文章</a></li>
                <li><a href="/support/faq.html">FAQ</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                       工具
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="/docs/dart-up-and-running/contents/ch04-tools-dart2js.html">dart2js</a>
                </li><li><a href="/tools/editor/">Dart Editor</a></li>
                <li><a href="http://pub.dartlang.org/">Pub Package Manager</a></li>
                <li><a href="/tools/">更多工具</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                                     资源
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="/samples/">示例代码</a></li>
                <li><a href="http://synonym.dartlang.org/">Translations from Dart</a></li>
                <li><a href="http://try.dartlang.org/">Try Dart!</a></li>

                <li class="divider"></li>
                <li><a href="/slides/">演示文稿</a></li>
                <li><a href="/dart-tips/">Dart 技巧视频</a></li>

                <li class="divider"></li>
                <li><a href="http://code.google.com/p/dart/issues/list">Bugs and Feature Requests</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                              社区
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="/support/">支持和社区资源</a></li>
                <li><a href="http://code.google.com/p/dart/wiki/Contributing">Contributor's Guide</a></li>
              </ul>
            </li>
          </ul>

          <ul class="nav navbar-nav navbar-right">
            <li>
              <form class="navbar-search" action="/search.html" id="cse-search-box">
                <input type="hidden" name="cx" value="011220921317074318178:i4mscbaxtru">
                <input type="hidden" name="ie" value="UTF-8">
                <input type="hidden" name="hl" value="en">
                <input type="search" name="q" class="search-query placeholder-position-fix form-control" id="q" autocomplete="off" placeholder="Search">
              </form>
            </li>
            <li><a target="_blank" href="https://twitter.com/dart_lang" class="btn"><i class="sprite-icon-social-twitter"></i></a></li>
            <li><a target="_blank" href="https://plus.google.com/+dartlang/posts" class="btn"><i class="sprite-icon-social-gplus"></i></a></li>
            <li><a target="_blank" href="http://weibo.com/cndart" class="btn"><i class="sprite-icon-social-gplus"><img src="/imgs/weibo.png"></i></a></li>
          </ul>
        </div><!-- /.nav-collapse -->

      </div><!-- /.container -->
    </div><!-- /.navbar -->

  


<div class="container-page">
  <div class="container">
  	<div class="container sub-page">
      <div class="row">
        <article><div class="col-md-3">
  <div class="bs-sidebar hidden-print affix-top" role="complementary">

<ol class="toc nav bs-sidenav" id="markdown-toc">
  <li><a href="#the-overall-approach-a-compiler-in-disguise">The overall approach: a compiler in disguise</a></li>
  <li><a href="#set-up">Set up</a></li>
  <li><a href="#command-line-api">Command-line API</a></li>
  <li><a href="#editor-background-compilation">Editor background compilation</a></li>
</ol>

  </div>
</div>
<div class="col-md-7">
  <p><!-- Start of content -->
	</p>

  <h1 id="tools-for-web-ui">Tools for Web UI</h1>

  <aside class="alert alert-danger">
    <p><strong>Web UI is deprecated.</strong>
Instead, use <a href="/polymer-dart/">Polymer.dart</a>,
which supersedes Web UI beginning with version 0.5
and provides many fixes and improvements.
We encourage Web UI users to upgrade to Polymer.dart.
The information on this page applies only to Web UI.</p>
  </aside>

  <p><em>Written by Sigmund Cherem<br />
October 2012 (Updated December 2012)</em></p>

  <p>The Web UI package (Web UI for short) provides web components and templates to
help you write web applications at scale. You can learn about this package in
our <a href="/articles/web-ui/">explainer article</a>. This article describes tools that will help
you create and deploy projects that use Web UI.</p>

  <h2 id="the-overall-approach-a-compiler-in-disguise">The overall approach: a compiler in disguise</h2>

  <p>We use a compiler to generate efficient code for applications that use the Web
UI package.  You’ll sometimes invoke this compiler from the command line, but
often you might not even know that it’s there.</p>

  <p>Special support is available for both <a href="/tools/dartium/">Dartium</a> and the <a href="/tools/editor/">Dart
Editor</a> to provide you with a smooth edit/refresh cycle.  Below you’ll
find quick instructions to setup the Dart Editor to do background compilation,
and to set up Dartium to compile your code on demand.  Under the hood, the Dart
Editor and Dartium will be invoking our compiler.  When it’s time to deploy,
you’ll then use the command-line API and then use <a href="/docs/dart-up-and-running/contents/ch04-tools-dart2js.html">dart2js</a> to compile all the way
to JavaScript.</p>

  <h2 id="set-up">Set up</h2>

  <p>Web UI is available under the <code>web_ui</code> pub package. Simply add a dependency to
your <code>pubspec.yaml</code> file:</p>

  <pre><code>...
dependencies:
  web_ui: any
</code></pre>

  <p>Then run <code>pub install</code> and you’ll have everything you need to get started. You
can use <code>package:web_ui/...</code> imports in your code, and you will be able
to access our compiler under <code>packages/web_ui/dwc.dart</code>.</p>

  <h2 id="command-line-api">Command-line API</h2>

  <p>You can invoke the compiler from the command line by invoking the <code>dwc</code> script
on the entry point of your application. For instance, the following example
shows how to compile an application under the directory <code>web</code>, whose entry point
is <code>app.html</code>.</p>

  <pre><code>&gt; dart --package-root=packages/ packages/web_ui/dwc.dart --out web/out/ web/app.html
</code></pre>

  <aside>
    <div class="alert alert-info">
      <p><strong>Note:</strong> This command will get simpler in the future. We
expect that <em>pub</em> will allow to directly run scripts deployed with a
package.  At that point, you’ll be able to run the command above without the
<code>--package-root</code> argument and without reaching into the
<code>packages/</code> directory.</p>
    </div>
  </aside>

  <p>The <code>--out web/out/</code> option indicates that we want the generated files to be
written under <code>web/out/</code>. If the option is not specified, the compiler will
generate files in the same folder of your entry point by default. In that case,
all generated files will be mangled to avoid name collisions. For instance, file
names will start with a leading underscore and have double extensions (for
example, <code>_app.html.dart</code>).  When you specify an output dir, the compiler avoids
mangling file names.</p>

  <p>In our example above, the application’s main HTML file is <code>web/out/app.html</code>.
Navigate Dartium to that file and see it run.  If you don’t specify an output
directory, the main file will be <code>web/_app.html.html</code>.</p>

  <p>You can use <code>dart2js</code> to generate JavaScript code that will run in other
browsers. The entry point Dart script you need to compile is
<code>app.html_boostrap.dart</code>.</p>

  <pre><code>&gt; cd web/out/
&gt; dart2js app.html_bootstrap.dart -oapp.html_bootstrap.dart.js
</code></pre>

  <p>Note that we made the output file name exactly the input file name followed by
an extra <code>.js</code> extension. This makes it possible to reuse the same HTML file
under <code>web/out/app.html</code> on any <a href="/support/faq.html#what-browsers-supported">modern browsers</a>.</p>

  <p>Recent versions of Chrome have experimental support for <a href="http://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/shadow/index.html">shadow DOM</a>, and
our generated code can use it if it is available. This feature is not enabled
by default. To turn it on, you need to:</p>

  <ul>
    <li>Import <code>package:web_ui/web_ui.dart</code> and
set <code>useShadowDom = true</code> in your app’s main script.</li>
    <li>Provide the special flag <code>--enable-experimental-webkit-features</code> to Chrome
or Dartium.</li>
  </ul>

  <p>When developing with the Shadow DOM, you’ll find these two additional flags very
useful: <code>--allow-file-access-from-files</code> and <code>--enable-devtools-experiments</code>.
The first lets your files make HttpRequests for resources from your file system.
The second will display <code>#shadowroot</code> in the web inspector for elements that
have a ShadowRoot.</p>

  <h2 id="editor-background-compilation">Editor background compilation</h2>

  <p>We can make the Dart Editor compile your code every time a project file
is modified, so when you are ready to test your app, the compiled code will be
ready to go.</p>

  <p>The Dart Editor provides a hook that lets you execute a script whenever changes
are detected on a project’s files. We provide a library that makes it really
easy to create a script that automatically calls our compiler. Create a file
named <code>build.dart</code> in the same directory as your <code>pubspec.yaml</code> file with the
following contents:</p>

  <pre class="prettyprint lang-dart">import 'package:web_ui/component_build.dart';
import 'dart:io';

void main() {
  build(new Options().arguments, ['web/app.html']);
}</pre>

  <p>This script will invoke <code>dwc</code> on <code>web/app.html</code> every time the Dart Editor
detects that you changed a file in your project.  When you want to launch your
app, you can directly launch the input HTML file <code>web/app.html</code> and the editor
will automatically redirect to run the generated file. You can also find the
generated file under <code>web/out/app.html</code>, and request the editor to launch it
directly.</p>

  <p>For more information about hooking into the Dart Editor build, see
<a href="/tools/editor/build.html">Build.dart and the Dart Editor Build System</a>.</p>

</div>

    	  </div> <!-- End of content from toc.html -->
        </article>
	  </div>

	

	</div>
  </div>
</div>

	<!-- Baidu Button BEGIN -->
	<div id="bdshare" class="bdshare_t bds_tools get-codes-bdshare alignRight">
	<span class="bds_more">分享到：</span>
	<a class="bds_qzone"></a>
	<a class="bds_tsina"></a>
	<a class="bds_tqq"></a>
	<a class="bds_renren"></a>
	<a class="bds_t163"></a>
	<a class="shareCount"></a>
	</div>
	<!-- Baidu Button END -->
	
  <footer class="footer container-full">
    <div class="container">
      <div class="row">
        <div class="col-md-5">
          <h3>一种用于创建可扩展 web 应用程序的语言、工具和代码库</h3>
          <p>Dart 是一个 <a href="https://code.google.com/p/dart/">开源项目</a>，由  Google 和其他人员参与。</p>
          <p class="sm">除非注明，该页面内容使用 the Creative Commons Attribution 3.0 License 发布，示例代码使用  BSD License 发布。</p>
          <!-- 
          <p><a class="saelogo" href="http://sae.sina.com.cn/activity/invite/15649/weibo" target="_blank"><img src="http://static.sae.sina.com.cn/image/poweredby/poweredby.png" title="Powered by Sina App Engine"></a></p>     	
          -->
        </div>
        <div class="col-md-2 col-md-offset-1">
          <h4>受欢迎的文章</h4>
          <ul>
            <li><a href="/polymer-dart/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">Polymer.dart</a></li>
            <li><a href="/performance/">性能</a></li>
            <li><a href="/docs/dart-up-and-running/contents/ch02.html?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">语言概览</a> &amp;
            <a href="/docs/dart-up-and-running/contents/ch03.html?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">代码库概览</a></li>
            <li><a href="/samples/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">示例代码</a></li>
            <li><a href="/docs/tutorials/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">教程</a> &amp;
                <a href="/codelabs/darrrt/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">代码实验室</a></li>
          </ul>
        </div>
        <div class="col-md-2">
          <h4>资源</h4>
          <ul>
            <li><a href="http://pub.dartlang.org/">Pub packages</a></li>
            <li><a href="http://synonym.dartlang.org/">Translations from Dart</a></li>
            <li><a href="http://code.google.com/p/dart/issues/list">Dart bugs and feature requests</a></li>
          </ul>
        </div>
        <div class="col-md-2">
          <h4>社区</h4>
          <ul>
            <li><a href="/support/">邮件列表</a></li>
            <li><a href="http://bbs.dartlang.cc">中文社区</a></li>
            <li><a href="https://plus.google.com/communities/114566943291919232850">G+ 社区</a></li>
            <li><a href="https://plus.google.com/+dartlang/posts">G+ 新闻发布频道</a></li>
            <li><a href="http://stackoverflow.com/questions/tagged/dart">Stack Overflow</a></li>
          </ul>
        </div>
      </div>
    </div>
  </footer> <!-- End footer -->

<script type='text/javascript' src='/js/jquery.js'></script>
<script type='text/javascript' src='/js/bootstrap.min.js'></script>
<script type='text/javascript' src='/js/social-event-analytics.js'></script>
<script type='text/javascript' src='/js/prettify.js'></script>
<script type='text/javascript' src='/js/lang-dart.js'></script>
<script type='text/javascript' src='/js/lang-yaml.js'></script>
<script type='text/javascript' src='/js/scripts.js'></script>




<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F76b2695e71e6cec6e6af036d76afa367' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=590574" ></script>
<script type="text/javascript" id="bdshell_js"></script>
<script type="text/javascript">
document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000)
</script>
</body>
</html>

