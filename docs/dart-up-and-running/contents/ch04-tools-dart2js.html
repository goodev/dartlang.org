<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Product">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
  <title>dart2js: The Dart-to-JavaScript Compiler from Dart: Up and Running | Dart: 结构化的web应用</title>
  <meta property="twitter:account_id" content="376585411" />
  <meta itemprop="name" content="dart2js: The Dart-to-JavaScript Compiler from Dart: Up and Running | Dart: 结构化的web应用">
  
  <meta itemprop="image" content="https://www.dartlang.org/imgs/dart-logo-900w.png">
  
  <meta itemprop="description" content="Read dart2js: The Dart-to-JavaScript Compiler of Dart: Up and Running, published by O'Reilly.">

  <!-- Bootstrap core CSS -->
  <link href="/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="/css/dart-style.css" rel="stylesheet">
  <link href="/css/prettify.css" type="text/css" rel="stylesheet" />
  <link href="//fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">
  <link href="//fonts.googleapis.com/css?family=Roboto:300,400" rel="stylesheet">
	
	
	
	<link rel="alternate" type="application/atom+xml" href="http://news.dartlang.org/feeds/posts/default" title="Atom feed">
  <link href="https://plus.google.com/109866369054280216564" rel="publisher">

  <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
  <![endif]-->

  <!-- 
<script type="text/javascript">

  //var _gaq = _gaq || [];
 // _gaq.push(['_setAccount', 'UA-26406144-4']);
  //_gaq.push(['_setDomainName', 'dartlang.org']);
  //_gaq.push(['_setSiteSpeedSampleRate', 50]);
  //_gaq.push(['_trackPageview']);

 // (function() {
   // var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
   // ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
   // var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
 // })();

</script>
-->
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F76b2695e71e6cec6e6af036d76afa367' type='text/javascript'%3E%3C/script%3E"));
</script>


  <script type="text/javascript" src="https://www.google.com/jsapi"></script>
  <script>
  

	window.___gcfg = {lang: 'en'};
	(function()
	{var po = document.createElement("script");
	po.type = "text/javascript"; po.async = true;po.src = "https://apis.google.com/js/plusone.js";
	var s = document.getElementsByTagName("script")[0];
	s.parentNode.insertBefore(po, s);
	})();
  </script>

  <script>
    window.twttr = (function (d,s,id) {
      var t, js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) return; js=d.createElement(s); js.id=id;
      js.src="//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs);
      return window.twttr || (t = { _e: [], ready: function(f){ t._e.push(f) } });
    }(document, "script", "twitter-wjs"));
  </script>
</head>
<body onload="prettyPrint()">

    <div class="navbar navbar-fixed-top navbar-inverse" role="navigation">
      <div class="container">
        
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/"><i class="sprite-icon-dart-logo"></i></a>
        </div>

        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
           <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                                       入门
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="/codelabs/darrrt/">试试 Dart</a></li>
                <li><a href="/docs/tutorials/">Dart 教程</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                                文档
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="/docs/">开发者指南</a></li>
                <li><a href="http://api.dartlang.org">API 参考</a></li>
                <li><a href="/docs/spec/">语言规范</a></li>

                <li class="divider"></li>
                <li><a href="/docs/dart-up-and-running/">Dart: Up and Running</a></li>
                <li><a href="/books/">更多图书</a></li>

                <li class="divider"></li>
                <li><a href="/articles/">文章</a></li>
                <li><a href="/support/faq.html">FAQ</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                       工具
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="/docs/dart-up-and-running/contents/ch04-tools-dart2js.html">dart2js</a>
                </li><li><a href="/tools/editor/">Dart Editor</a></li>
                <li><a href="http://pub.dartlang.org/">Pub Package Manager</a></li>
                <li><a href="/tools/">更多工具</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                                     资源
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="/samples/">示例代码</a></li>
                <li><a href="http://synonym.dartlang.org/">Translations from Dart</a></li>
                <li><a href="http://try.dartlang.org/">Try Dart!</a></li>

                <li class="divider"></li>
                <li><a href="/slides/">演示文稿</a></li>
                <li><a href="/dart-tips/">Dart 技巧视频</a></li>

                <li class="divider"></li>
                <li><a href="http://code.google.com/p/dart/issues/list">Bugs and Feature Requests</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                              社区
              </a>
              <ul class="dropdown-menu">
                <i class="sprite-icon-dd-tip"></i>
                <li><a href="/support/">支持和社区资源</a></li>
                <li><a href="http://code.google.com/p/dart/wiki/Contributing">Contributor's Guide</a></li>
              </ul>
            </li>
          </ul>

          <ul class="nav navbar-nav navbar-right">
            <li>
              <form class="navbar-search" action="/search.html" id="cse-search-box">
                <input type="hidden" name="cx" value="011220921317074318178:i4mscbaxtru">
                <input type="hidden" name="ie" value="UTF-8">
                <input type="hidden" name="hl" value="en">
                <input type="search" name="q" class="search-query placeholder-position-fix form-control" id="q" autocomplete="off" placeholder="Search">
              </form>
            </li>
            <li><a href="https://twitter.com/dart_lang" class="btn"><i class="sprite-icon-social-twitter"></i></a></li>
            <li><a href="https://plus.google.com/+dartlang/posts" class="btn"><i class="sprite-icon-social-gplus"></i></a></li>
          </ul>
        </div><!-- /.nav-collapse -->

      </div><!-- /.container -->
    </div><!-- /.navbar -->

  


<div class="container-page">
  <div class="container">
    <div class="container sub-page">

      <div id="book-header">
      An excerpt from <a href="/docs/dart-up-and-running/"><em>Dart: Up and Running</em></a>
      </div>

      <article class="up-and-running-contents">
        <div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">dart2js: The Dart-to-JavaScript Compiler</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch04-tools-dartium.html">Prev</a> </td><th width="60%" align="center">Chapter 4. Tools</th><td width="20%" align="right"> <a accesskey="n" href="ch04-tools-dart-vm.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ch04-tools-dart2js"></a>dart2js: The Dart-to-JavaScript Compiler</h2></div></div></div><p>You can use the <span class="emphasis"><em>dart2js</em></span> tool to compile Dart
    code to JavaScript. <a class="link" href="ch04-tools-editor.html#ch04-editor-dart2js" title="Compiling to JavaScript">Dart Editor</a>
    uses dart2js behind the scenes whenever Dart Editor compiles to
    JavaScript. This section tells you how to use dart2js on the command line.
    It also give tips on debugging the JavaScript that dart2js
    generates.</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="ch04-tools-dart2js-basic-usage"></a>Basic Usage</h3></div></div></div><p>Here’s an example of compiling a Dart file to JavaScript:</p><pre class="screen"><em><span class="remark">lang-sh
</span></em>dart2js --out=test.js <em class="replaceable"><code>test.dart</code></em></pre><p>This command produces a file that contains the JavaScript
      equivalent of your Dart code. It also produces a source map, which can
      help you debug the JavaScript version of the app more easily.</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="ch04-tools-dart2js-options"></a>Options</h3></div></div></div><p>Common command-line options for dart2js include:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">
          -o<em class="replaceable"><code>&lt;file&gt;</code></em></code><span class="emphasis"><em> or
          </em></span><code class="literal">--out=<em class="replaceable"><code>&lt;file&gt;</code></em></code></span></dt><dd><p>Generate the output into
            <em class="replaceable"><code>&lt;file&gt;</code></em>. If not specified, the
            output goes in a file named <code class="literal">out.js</code>.</p></dd><dt><span class="term"><code class="literal"> -c</code><span class="emphasis"><em>
          or </em></span><code class="literal">--checked</code></span></dt><dd><p>Insert runtime type checks, and enable assertions (checked
            mode).</p></dd><dt><span class="term"><code class="literal">
          --minify</code></span></dt><dd><p>Generate minified output.</p></dd><dt><span class="term"><code class="literal"> -h</code><span class="emphasis"><em>
          or </em></span><code class="literal">--help</code></span></dt><dd><p>Display help. (Use <code class="literal">-vh</code>
            for information about all options.)</p></dd><dt><span class="term"><code class="literal">
          --output-type=dart</code></span></dt><dd><p>Output Dart code instead of JavaScript. This option is
            useful when deploying your app, because it generates a single file
            containing everything the app needs.</p></dd></dl></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="ch04-tools-dart2js-generating-efficient-code"></a>Helping dart2js Generate Better Code</h3></div></div></div><p>You can do a couple of things to improve the code that dart2js
      generates:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Write your code in a way that makes type inference
          easier.</p></li><li class="listitem"><p>Once you’re ready to deploy your app, use the dart2js --minify
          option to reduce code size.</p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Don’t worry about the size of your app’s included libraries.
        Thanks to a feature called <span class="emphasis"><em>tree shaking,</em></span> dart2js
        omits unused classes, functions, methods, and so on. Just import the
        libraries you need, and let dart2js get rid of what you don’t
        need.</p></div><p>Follow these practices to help dart2js do better type inference,
      so it can generate smaller and faster JavaScript code:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>Avoid setting variables to null.</p></li><li class="listitem"><p>Use const or final variables wherever possible.</p></li><li class="listitem"><p>Be consistent with the types of arguments you pass into each
          function or method.</p></li></ul></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="tools-dart2js-debugging"></a>Debugging</h3></div></div></div><p>This section gives tips for debugging dart2js-produced code in
      Chrome, Firefox, and Safari. Debugging the JavaScript produced by
      dart2js is easiest in browsers such as Chrome that support source
      maps.</p><p>Whichever browser you use, you should enable pausing on at least
      uncaught exceptions, and perhaps on all exceptions. For frameworks such
      as dart:isolate and dart:async that wrap user code in try-catch, we
      recommend pausing on all exceptions.</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="dart2js-debugging-chrome"></a>Chrome</h4></div></div></div><p>To debug in Chrome:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Open the Developer Tools window, as described in <a class="ulink" href="https://developers.google.com/chrome-developer-tools/docs/overview" target="_top">How
            to Access the Developer Tools.</a></p></li><li class="listitem"><p>Turn on source maps, as described in the video <a class="ulink" href="http://bit.ly/YugIUY" target="_top">SourceMaps in Chrome.</a></p></li><li class="listitem"><p>Enable debugging, either on all exceptions or only on
            uncaught exceptions, <span class="phrase">as described in <a class="ulink" href="https://developers.google.com/chrome-developer-tools/docs/scripts-breakpoints#pause-on-exceptions" target="_top">Pause
            on Exceptions</a> </span>and <a class="ulink" href="https://developers.google.com/chrome-developer-tools/docs/scripts-breakpoints#pause-on-uncaught-exceptions" target="_top">Pause
            on Uncaught Exceptions,</a> respectively.</p></li><li class="listitem"><p>Reload your application.</p></li></ol></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="dart2js-debugging-firefox"></a>Firefox</h4></div></div></div><p>Firefox doesn’t yet support source maps (see <a class="ulink" href="https://bugzilla.mozilla.org/show_bug.cgi?id=771597" target="_top">bug
        #771597</a>). To debug in Firefox:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Enable the Developer Toolbar, as described in Kevin
            Dangoor’s blog post, <a class="ulink" href="https://hacks.mozilla.org/2012/08/new-firefox-command-line-helps-you-develop-faster/" target="_top">New
            Firefox Command Line Helps You Develop Faster.</a></p></li><li class="listitem"><p>Click the <span class="bold"><strong>Debugger</strong></span> button
            at the bottom of the browser, and enable <span class="bold"><strong>Pause on exceptions</strong></span>. (See <a class="xref" href="ch04-tools-dart2js.html#FirefoxDeveloperToolbar" title="Figure 4.7. Firefox’s Developer Toolbar">Figure 4.7, “Firefox’s Developer Toolbar”</a>.)</p></li><li class="listitem"><p>Reload your application.</p></li></ol></div><div class="figure"><a name="FirefoxDeveloperToolbar"></a><p class="title"><b>Figure 4.7. Firefox’s Developer Toolbar</b></p><div class="figure-contents"><div class="mediaobject"><img src="figs/web/daur_0408.png" alt="Firefox’s Developer Toolbar"></div></div></div><br class="figure-break"></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a name="dart2js-debugging-safari"></a>Safari</h4></div></div></div><p>To debug in Safari:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Turn on the Develop menu, as described in the <a class="ulink" href="https://developer.apple.com/library/safari/documentation/AppleApplications/Conceptual/Safari_Developer_Guide/GettingStarted/GettingStarted.html#//apple_ref/doc/uid/TP40007874-CH2-SW1" target="_top">Safari
            Web Inspector Guide</a>.</p></li><li class="listitem"><p>Enable breaks, either on all exceptions or only on uncaught
            exceptions. See Figure 4-2 on the Safari <a class="ulink" href="https://developer.apple.com/library/safari/documentation/AppleApplications/Conceptual/Safari_Developer_Guide/Debugger/Debugger.html#//apple_ref/doc/uid/TP40007874-CH5-SW1" target="_top">Debugging</a>
            page.</p></li><li class="listitem"><p>Reload your application.</p></li></ol></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch04-tools-dartium.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch04.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="ch04-tools-dart-vm.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Dartium: Chromium with the Dart VM </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> dart: The Standalone VM</td></tr></table></div>
      </article>

      

    </div>
  </div>
</div>  


  <footer class="footer container-full">
    <div class="container">
      <div class="row">
        <div class="col-md-5">
          <h3>一种用于创建可扩展 web 应用程序的语言、工具和代码库</h3>
          <p>Dart 是一个 <a href="https://code.google.com/p/dart/">开源项目</a>，由  Google 和其他人员参与。</p>
          <p class="sm">除非注明，该页面内容使用 the Creative Commons Attribution 3.0 License 发布，示例代码使用  BSD License 发布。</p>
          <!-- 
          <p><a class="saelogo" href="http://sae.sina.com.cn/activity/invite/15649/weibo" target="_blank"><img src="http://static.sae.sina.com.cn/image/poweredby/poweredby.png" title="Powered by Sina App Engine"></a></p>     	
          -->
        </div>
        <div class="col-md-2 col-md-offset-1">
          <h4>受欢迎的文章</h4>
          <ul>
            <li><a href="/polymer-dart/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">Polymer.dart</a></li>
            <li><a href="/performance/">性能</a></li>
            <li><a href="/docs/dart-up-and-running/contents/ch02.html?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">语言概览</a> &amp;
            <a href="/docs/dart-up-and-running/contents/ch03.html?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">代码库概览</a></li>
            <li><a href="/samples/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">示例代码</a></li>
            <li><a href="/docs/tutorials/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">教程</a> &amp;
                <a href="/codelabs/darrrt/?utm_source=site&amp;utm_medium=footer&amp;utm_campaign=homepage">代码实验室</a></li>
          </ul>
        </div>
        <div class="col-md-2">
          <h4>资源</h4>
          <ul>
            <li><a href="http://pub.dartlang.org/">Pub packages</a></li>
            <li><a href="http://synonym.dartlang.org/">Translations from Dart</a></li>
            <li><a href="http://code.google.com/p/dart/issues/list">Dart bugs and feature requests</a></li>
          </ul>
        </div>
        <div class="col-md-2">
          <h4>社区</h4>
          <ul>
            <li><a href="/support/">邮件列表</a></li>
            <li><a href="http://bbs.dartlang.cc">中文社区</a></li>
            <li><a href="https://plus.google.com/communities/114566943291919232850">G+ 社区</a></li>
            <li><a href="https://plus.google.com/+dartlang/posts">G+ 新闻发布频道</a></li>
            <li><a href="http://stackoverflow.com/questions/tagged/dart">Stack Overflow</a></li>
          </ul>
        </div>
      </div>
    </div>
  </footer> <!-- End footer -->

<script type='text/javascript' src='/js/jquery.js'></script>
<script type='text/javascript' src='/js/bootstrap.min.js'></script>
<script type='text/javascript' src='/js/social-event-analytics.js'></script>
<script type='text/javascript' src='/js/prettify.js'></script>
<script type='text/javascript' src='/js/lang-dart.js'></script>
<script type='text/javascript' src='/js/lang-yaml.js'></script>
<script type='text/javascript' src='/js/scripts.js'></script>




</body>
</html>

